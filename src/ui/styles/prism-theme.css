/* Prism theming that respects <html data-theme="...">.
   - Dark: keep Prism Tomorrow token colors intact; only align bg/fg to our panel vars.
   - Light: override tokens with a palette close to Prism default.
*/

/* ====== COMMON ====== */
:root[data-theme="dark"] pre[class*="language-"],
:root[data-theme="light"] pre[class*="language-"] {
  background: var(--panel-bg) !important;
  color: var(--fg-default) !important; /* base text if a token doesn't match */
  border-radius: 0.75rem;
}

/* Avoid inner code blocks painting their own background */
:root[data-theme="dark"] pre[class*="language-"] > code,
:root[data-theme="light"] pre[class*="language-"] > code {
  background: transparent !important;
  color: inherit !important;
}

/* Selection inside code blocks */
:root[data-theme="dark"] pre[class*="language-"] ::selection,
:root[data-theme="light"] pre[class*="language-"] ::selection {
  background: color-mix(in srgb, var(--accent) 35%, transparent);
}

/* React adds this on the active rows; use the same for both themes */
:root[data-theme="dark"] .line-active,
:root[data-theme="light"] .line-active {
  background: color-mix(in srgb, var(--accent) 18%, transparent) !important;
}

/* ====== DARK MODE ======
   Keep Prism Tomorrow token colors â€” do NOT override token classes here.
   This preserves the "rich" dark syntax highlighting you're used to.
*/

/* ====== LIGHT MODE ======
   Provide a light palette similar to Prism "default" theme.
*/
:root[data-theme="light"] .token.comment,
:root[data-theme="light"] .token.prolog,
:root[data-theme="light"] .token.doctype,
:root[data-theme="light"] .token.cdata {
  color: #708090 !important; /* slategray */
}

:root[data-theme="light"] .token.punctuation {
  color: #999 !important;
}

:root[data-theme="light"] .token.property,
:root[data-theme="light"] .token.tag,
:root[data-theme="light"] .token.boolean,
:root[data-theme="light"] .token.number,
:root[data-theme="light"] .token.constant,
:root[data-theme="light"] .token.symbol {
  color: #905 !important; /* purple-ish */
}

:root[data-theme="light"] .token.selector,
:root[data-theme="light"] .token.attr-name,
:root[data-theme="light"] .token.string,
:root[data-theme="light"] .token.char,
:root[data-theme="light"] .token.builtin,
:root[data-theme="light"] .token.inserted {
  color: #690 !important; /* green-ish */
}

:root[data-theme="light"] .token.operator,
:root[data-theme="light"] .token.entity,
:root[data-theme="light"] .token.url,
:root[data-theme="light"] .token.variable {
  color: #9a6e3a !important; /* brown-ish operator tone */
}

:root[data-theme="light"] .token.atrule,
:root[data-theme="light"] .token.attr-value,
:root[data-theme="light"] .token.keyword {
  color: #07a !important; /* blue keywords */
}

:root[data-theme="light"] .token.function,
:root[data-theme="light"] .token.class-name {
  color: #DD4A68 !important; /* reddish function/class */
}

:root[data-theme="light"] .token.regex,
:root[data-theme="light"] .token.important {
  color: #e90 !important;
}

:root[data-theme="light"] .token.bold { font-weight: bold; }
:root[data-theme="light"] .token.italic { font-style: italic; }
:root[data-theme="light"] .token.deleted { color: #e2777a !important; }